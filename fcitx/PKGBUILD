# Maintainer: Matt Glen <mwg2202@gmail.com>
pkgname=mwglen-fcitx
pkgver=1
pkgrel=1
pkgdesc="A fcitx configuration"
arch=('x86_64')
url="https://github.com/mwglen/arch-config/fcitx"
license=('GPL')
source=('xprofile' 'fcitx-classic-ui.config' 'fcitx-xkb.config' 'xmodmap')
md5sums=('SKIP')
depends=('fcitx-im' 'fcitx-configtool'
         'fcitx-qt4' 'xmodmap' 'fcitx-mozc')

package() {
    mkdir -p $pkgdir/$HOME
    cp xprofile $pkgdir/$HOME/.xprofile
    
    config_dir="${XDG_CONFIG_HOME:-~/.config}"
    mkdir -p $pkgdir/$config_dir/fcitx/conf
    cp fcitx-classic-ui.config $pkgdir/$config_dir/fcitx/conf/fcitx-classic-ui.config
    cp fcitx-xkb.config $pkgdir/$config_dir/fcitx/conf/fcitx-xkb.config
    
    mkdir -p $pkgdir/$config_dir/fcitx/data
    cp xmodmap $pkgdir/$config_dir/fcitx/data/xmodmap
    cp profile $pkgdir/$config_dir/fcitx/profile

    sudo locale-gen
}
